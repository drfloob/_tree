{"version":3,"file":"dist/_tree.min.js","sources":["src/_tree.js"],"names":["root","factory","define","amd","exports","module","require","_tree","_","this","__callback","tree","event","args","Array","prototype","slice","call","arguments","each","defaults","callbacks","cb","partial","apply","__setupAncestry","node","parent","__tree","__parent","children","c","__finalizeMutableTreeClone","mixins","mix","f","key","walk","visitNode","Object","freeze","e","__children","__cloneDefaults","clone","__defaults","union","Tree","Node","inflate","obj","inflateMethod","create","byKey","Key","Obj","emit","has","byAdjacencyList","kids","tmpObj","i","first","length","isArray","push","onlyLeavesList","map","n","fromNode","Error","JSON","stringify","__root","nextNodeId","__id","__nextNodeId","uniqueId","defineProperties","value","writable","enumerable","configurable","newTree","_this","thisnode","Data","__data","Nodes","kidObj","kidTree","findNode","walkMethod","equals","found","findNodeByData","data","isMatch","keys","isUndefined","isObject","nodeData","isEqual","pick","Callback","startNode","tmpNode","qs","recurList","containsNode","queue","concat","recurse","queueRecurse","shift","dfpre","dfpost","bfpre","bfpost","rev","reverse","otherTree","someNode","containsData","someData","moveNode","movingNode","toParent","remove","addChildNode","on","callback","off","without","mixin","contains","undefined","differentId","newNode","id","parseAndAddChild","childObj","childTree","newParentNode","nodeClone","otherNode","parNode","deleteRecursive","afterUpdate","beforeFreeze","beforeFreeze.data","beforeFreeze.parseAndAddChild","beforeFreeze.addChildNode","beforeFreeze.remove"],"mappings":"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"}