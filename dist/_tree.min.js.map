{"version":3,"file":"dist/_tree.min.js","sources":["src/_tree.js"],"names":["root","factory","define","amd","exports","module","require","_tree","_","this","__callback","tree","event","args","Array","prototype","slice","call","arguments","each","defaults","callbacks","cb","partial","apply","__preFinalizeTree","mixins","mix","f","key","node","walk","visitNode","__setupAncestry","parent","__tree","__parent","children","c","__finalizeMutableTreeClone","Object","freeze","e","__children","__cloneDefaults","clone","__defaults","union","Tree","Node","inflate","obj","inflateMethod","create","byKey","Key","Obj","emit","has","byAdjacencyList","kids","tmpObj","i","first","length","isArray","push","onlyLeavesList","map","n","fromNode","Error","JSON","stringify","__root","nextNodeId","__id","__nextNodeId","uniqueId","defineProperties","value","writable","enumerable","configurable","newTree","_this","thisnode","Data","__data","Nodes","kidObj","kidTree","findNode","walkMethod","equals","found","findNodeByData","data","isMatch","keys","isUndefined","isObject","nodeData","isEqual","pick","Callback","startNode","tmpNode","qs","recurList","containsNode","queue","concat","recurse","queueRecurse","shift","dfpre","dfpost","bfpre","bfpost","rev","reverse","otherTree","someNode","containsData","someData","moveNode","movingNode","toParent","remove","addChildNode","on","callback","off","without","mixin","contains","undefined","differentId","newNode","id","parseAndAddChild","childObj","childTree","newParentNode","nodeClone","otherNode","parNode","deleteRecursive","afterUpdate","beforeFreeze","beforeFreeze.data","beforeFreeze.parseAndAddChild","beforeFreeze.addChildNode","beforeFreeze.remove"],"mappings":"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"}